<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.23">
<title>Rules Development Guide</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child{border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active,#footnotes .footnote a:first-of-type:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body id="rules-development-guide" class="article">
<div id="header">
<h1>Rules Development Guide</h1>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#making-open-source-more-inclusive">Making open source more inclusive</a></li>
<li><a href="#introduction_rules-development-guide">1. Introduction</a>
<ul class="sectlevel2">
<li><a href="#rules-guide-intro_rules-development-guide">1.1. About the Rule Development Guide</a>
<ul class="sectlevel3">
<li><a href="#mta-about-home-var_rules-development-guide">1.1.1. Use of <code>&lt;MTA_HOME&gt;</code> in this guide</a></li>
</ul>
</li>
<li><a href="#about-rules_rules-development-guide">1.2. The MTA rules</a></li>
</ul>
</li>
<li><a href="#creating-yaml-rules_rules-development-guide">2. Creating YAML rules</a>
<ul class="sectlevel2">
<li><a href="#yaml-rule-structure-syntax_rules-development-guide">2.1. YAML rule structure and syntax</a>
<ul class="sectlevel3">
<li><a href="#yaml-rule-metadata_rules-development-guide">2.1.1. Rule metadata</a></li>
<li><a href="#_rulesets">2.1.2. Rulesets</a></li>
</ul>
</li>
<li><a href="#creating-basic-yaml-rules_rules-development-guide">2.2. Creating a basic YAML rule</a>
<ul class="sectlevel3">
<li><a href="#create-basic-yaml-rule-template_rules-development-guide">2.2.1. Creating a basic YAML rule template</a></li>
<li><a href="#create-basic-yaml-ruleset-template_rules-development-guide">2.2.2. Creating a basic YAML ruleset template</a></li>
<li><a href="#create-yaml-rule_rules-development-guide">2.2.3. Creating a YAML rule</a></li>
<li><a href="#running-analysis-using-custom-yaml-rule_rules-development-guide">2.2.4. Running an analysis using a custom YAML rule</a></li>
</ul>
</li>
<li><a href="#create-first-yaml-rule_rules-development-guide">2.3. Creating your first YAML rule</a>
<ul class="sectlevel3">
<li><a href="#creating-yaml-file-for-the-rule_rules-development-guide">2.3.1. Creating a YAML file for the rule</a></li>
<li><a href="#mta-creating-data-to-test-the-rule_rules-development-guide">2.3.2. Creating data to test the rule</a></li>
<li><a href="#mta-creating-the-rule_rules-development-guide">2.3.3. Creating the rule</a></li>
<li><a href="#mta-installing-the-rule_rules-development-guide">2.3.4. Installing the rule</a></li>
<li><a href="#mta-testing-the-rule_rules-development-guide">2.3.5. Testing the rule</a></li>
<li><a href="#mta-reviewing-the-report_rules-development-guide">2.3.6. Reviewing the report</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#testing-rules_rules-development-guide">3. Testing XML rules</a>
<ul class="sectlevel2">
<li><a href="#_creating_a_test_rule">3.1. Creating a test rule</a>
<ul class="sectlevel3">
<li><a href="#test-xml-rule-structure_rules-development-guide">3.1.1. Test XML rule structure</a></li>
<li><a href="#_test_xml_rule_syntax">3.1.2. Test XML rule syntax</a></li>
</ul>
</li>
<li><a href="#manually-test-rules_rules-development-guide">3.2. Manually testing an XML rule</a></li>
<li><a href="#rules-testng-junit_rules-development-guide">3.3. Testing the rules by using JUnit</a></li>
<li><a href="#validation-report_rules-development-guide">3.4. About validation reports</a>
<ul class="sectlevel3">
<li><a href="#validation-report-understanding_rules-development-guide">3.4.1. Creating a validation report</a></li>
<li><a href="#validation-report-errors_rules-development-guide">3.4.2. Validation report error messages</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#overriding-rules_rules-development-guide">4. Overriding rules</a>
<ul class="sectlevel2">
<li><a href="#_overriding_a_rule">4.1. Overriding a rule</a></li>
<li><a href="#_disabling_a_rule">4.2. Disabling a rule</a></li>
</ul>
</li>
<li><a href="#rule-categories_rules-development-guide">5. Using custom rule categories</a>
<ul class="sectlevel2">
<li><a href="#add_custom_category_rules-development-guide">5.1. Adding a custom category</a></li>
<li><a href="#assign_custom_category_rules-development-guide">5.2. Assigning a rule to a custom category</a></li>
</ul>
</li>
<li><a href="#_reference_material">Appendix A: Reference material</a>
<ul class="sectlevel2">
<li><a href="#about-story-points_rules-development-guide">A.1. About rule story points</a>
<ul class="sectlevel3">
<li><a href="#_what_are_story_points">A.1.1. What are story points?</a></li>
<li><a href="#_how_story_points_are_estimated_in_rules">A.1.2. How story points are estimated in rules</a></li>
<li><a href="#_task_category">A.1.3. Task category</a></li>
</ul>
</li>
<li><a href="#_additional_resources">A.2. Additional resources</a>
<ul class="sectlevel3">
<li><a href="#review-existing-rules_rules-development-guide">A.2.1. Reviewing existing MTA XML rules</a></li>
<li><a href="#rules-important-links_rules-development-guide">A.2.2. Additional resources</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="making-open-source-more-inclusive">Making open source more inclusive</h2>
<div class="sectionbody">
<div class="paragraph _abstract">
<p>Red Hat is committed to replacing problematic language in our code, documentation, and web properties. We are beginning with these four terms: master, slave, blacklist, and whitelist. Because of the enormity of this endeavor, these changes will be implemented gradually over several upcoming releases. For more details, see <a href="https://www.redhat.com/en/blog/making-open-source-more-inclusive-eradicating-problematic-language">our CTO Chris Wright&#8217;s message</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="introduction_rules-development-guide">1. Introduction</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="rules-guide-intro_rules-development-guide">1.1. About the Rule Development Guide</h3>
<div class="paragraph">
<p>This guide is intended for software engineers who want to create custom YAML-based rules for Migration Toolkit for Applications (MTA) tools.</p>
</div>
<div class="paragraph">
<p>See the <a href="https://access.redhat.com/documentation/en-us/migration_toolkit_for_applications/7.0/html-single/introduction_to_the_migration_toolkit_for_applications"><em>Introduction to the Migration Toolkit for Applications</em></a> for an overview and the <a href="https://access.redhat.com/documentation/en-us/migration_toolkit_for_applications/7.0/html-single/cli_guide"><em>CLI Guide</em></a> for details.</p>
</div>
<div class="sect3">
<h4 id="mta-about-home-var_rules-development-guide">1.1.1. Use of <code>&lt;MTA_HOME&gt;</code> in this guide</h4>
<div class="paragraph">
<p>This guide uses the <code>&lt;MTA_HOME&gt;</code> replaceable variable to denote the path to your MTA installation.</p>
</div>
<div class="paragraph">
<p>The mta-7.0.3-cli&lt;OS&gt;.zip* extracts a single binary called <code>mta-cli</code>.</p>
</div>
<div class="paragraph">
<p>When you encounter <code>&lt;MTA_HOME&gt;</code> in this guide, replace it with the actual path to your MTA installation.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="about-rules_rules-development-guide">1.2. The MTA rules</h3>
<div class="paragraph">
<p>The Migration Toolkit for Applications (MTA) contains rule-based migration tools (analyzers) that you can use to analyze the application user interfaces (APIs), technologies, and architectures used by the applications you plan to migrate. MTA analyzer rules use the following rule pattern:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>when(condition)
 message(message)
 tag(tags)</pre>
</div>
</div>
<div class="paragraph">
<p>You can use the MTA rules internally to perform the following tasks:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extract files from archives.</p>
</li>
<li>
<p>Decompile files.</p>
</li>
<li>
<p>Scan and classify file types.</p>
</li>
<li>
<p>Analyze XML and other file content.</p>
</li>
<li>
<p>Analyze the application code.</p>
</li>
<li>
<p>Build the reports.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>MTA builds a data model based on the rule execution results and stores component data and relationships in a graph database. This database can then be queried and updated as required by the migration rules and for reporting purposes.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>You can create your own custom analyzer rules. You can use custom rules to identify the use of custom libraries or other components that might not be covered by the provided standard migration rules.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="creating-yaml-rules_rules-development-guide">2. Creating YAML rules</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Each analyzer rule is a set of instructions that are used to analyze source code and detect issues that are problematic for migration.</p>
</div>
<div class="paragraph">
<p>The analyzer parses user-provided rules, applies them to applications' source code, and generates issues for matched rules. A collection of one or more rules forms a ruleset. Creating rulesets provides a way of organizing multiple rules that achieve a common goal. The analyzer CLI takes rulesets as input arguments.</p>
</div>
<div class="sect2">
<h3 id="yaml-rule-structure-syntax_rules-development-guide">2.1. YAML rule structure and syntax</h3>
<div class="paragraph">
<p>MTA rules are written in YAML. Each rule consists of metadata, conditions and actions, which instruct the analyzer to take specified actions when given conditions match.</p>
</div>
<div class="paragraph">
<p>A YAML rule file in MTA contains one or more YAML rules.</p>
</div>
<div class="sect3">
<h4 id="yaml-rule-metadata_rules-development-guide">2.1.1. Rule metadata</h4>
<div class="paragraph">
<p>Rule metadata contains general information about the rule. The structure of metadata is as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">ruleId: "unique_id" <b class="conum">(1)</b>
labels: <b class="conum">(2)</b>
  # key=value pair
  - "label1=val1"
  # valid label with value omitted
  - "label2"
  # valid label with empty value
  - "label3="
  # subdomain prefixed key
  - "konveyor.io/label1=val1"
effort: 1 <b class="conum">(3)</b>
category: mandatory <b class="conum">(4)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>The ID must be unique within the ruleset to which the rule belongs.</p>
</li>
<li>
<p>See below for a description of the label format.</p>
</li>
<li>
<p><code>effort</code> is an integer value that indicates the level of effort needed to fix this issue.</p>
</li>
<li>
<p><code>category</code> describes the severity of the issue for migration. The value can be either <code>mandatory</code>, <code>optional</code> or <code>potential</code>. For a description of these categories, see <a href="#yaml-rule-categories_rules-development-guide">Rule categories</a>.</p>
</li>
</ol>
</div>
<div class="sect4">
<h5 id="yaml-rule-labels_rules-development-guide">Rule labels</h5>
<div class="paragraph">
<p>Labels are <code>key=val</code> pairs specified for rules or rulesets as well as dependencies. For dependencies, a provider adds the labels to the dependencies when retrieving them. Labels on a ruleset are automatically inherited by all the rules that belong to it.</p>
</div>
<div class="paragraph">
<div class="title">Label format</div>
<p>Labels are specified under the <code>labels</code> field as a list of strings in <code>key=val</code> format as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">labels:
- "key1=val1"
- "key2=val2"</code></pre>
</div>
</div>
<div class="paragraph">
<p>The key of a label can be subdomain-prefixed:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">labels:
- "konveyor.io/key1=val1"</code></pre>
</div>
</div>
<div class="paragraph">
<p>The value of a label can be empty:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">labels:
- "konveyor.io/key="</code></pre>
</div>
</div>
<div class="paragraph">
<p>The value of a label can be omitted. In that case, it is treated as an empty value:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">labels:
- "konveyor.io/key"</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Reserved labels</div>
<p>The analyzer defines some labels that have special meaning as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>konveyor.io/source</code>: Identifies the source technology to which a rule or a ruleset applies</p>
</li>
<li>
<p><code>konveyor.io/target</code>: Identifies the target technology to which a rule or a ruleset applies</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Label selector</div>
<p>The analyzer CLI takes the <code>--label-selector</code> field as an option. It is a string expression that supports logical AND, OR and NOT operations. You can use it to filter-in or filter-out rules by their labels.</p>
</div>
<div class="paragraph">
<p><em>Examples:</em></p>
</div>
<div class="ulist">
<ul>
<li>
<p>To filter-in all rules that have a label with the key <code>konveyor.io/source</code> and value <code>eap6</code>:</p>
<div class="paragraph">
<p><code>--label-selector="konveyor.io/source=eap6"</code></p>
</div>
</li>
<li>
<p>To filter-in all rules that have a label with the key <code>konveyor.io/source</code> and any value:</p>
<div class="paragraph">
<p><code>--label-selector="konveyor.io/source"</code></p>
</div>
</li>
<li>
<p>To perform logical AND operations on matches of multiple rules using the <code>&amp;&amp;</code> operator:</p>
<div class="paragraph">
<p><code>--label-selector="key1=val1 &amp;&amp; key2"</code></p>
</div>
</li>
<li>
<p>To perform logical OR operations on matches of multiple rules using the <code>||</code> operator:</p>
<div class="paragraph">
<p><code>--label-selector="key1=val1 || key2"</code></p>
</div>
</li>
<li>
<p>To perform a NOT operation to filter-out rules that have <code>key1=val1</code> label set using the <code>!</code> operator:</p>
<div class="paragraph">
<p><code>--label-selector="!key1=val1"</code></p>
</div>
</li>
<li>
<p>To group sub-expressions and control precedence using AND:</p>
<div class="paragraph">
<p><code>--label-selector="(key1=val1 || key2=val2) &amp;&amp; !val3"</code></p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Dependency labels</div>
<p>The analyzer engine adds labels to dependencies. These labels provide additional information about a dependency, such as its programming language and whether the dependency is open source or internal.</p>
</div>
<div class="paragraph">
<p>Currently, the analyzer adds the following labels to dependencies:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">labels:
- konveyor.io/dep-source=internal
- konveyor.io/language=java</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Dependency label selector</div>
<p>The analyzer CLI accepts the <code>--dep-label-selector</code> option, which allows filtering-in or filtering-out incidents generated from a dependency by their labels.</p>
</div>
<div class="paragraph">
<p>For example, the analyzer adds a <code>konveyor.io/dep-source</code> label to dependencies with a value that indicates whether the dependency is a known open source dependency.</p>
</div>
<div class="paragraph">
<p>To exclude incidents for all such open source dependencies, you can use <code>--dep-label-selector</code> as follows:</p>
</div>
<div class="paragraph">
<p><code>konveyor-analyzer &#8230;&#8203; --dep-label-selector !konveyor.io/dep-source=open-source</code></p>
</div>
<div class="paragraph">
<p>The Java provider in the analyzer can also add an exclude label to a list of packages. To exclude all such packages, you can use <code>--dep-label-selector</code> and the <code>!</code> operator as follows:</p>
</div>
<div class="paragraph">
<p><code>konveyor-analyzer &#8230;&#8203; --dep-label-selector !konveyor.io/exclude</code></p>
</div>
</div>
<div class="sect4">
<h5 id="yaml-rule-categories_rules-development-guide">Rule categories</h5>
<div class="ulist">
<ul>
<li>
<p><code>mandatory</code></p>
<div class="ulist">
<ul>
<li>
<p>You must resolve the issue for a successful migration, otherwise, the resulting application is not expected to build or run successfully. An example of such an issue is proprietary APIs that are not supported on the target platform.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>optional</code></p>
<div class="ulist">
<ul>
<li>
<p>If you do not resolve the issue, the application is expected to work, but the results might not be optimal. If you do not make the change at the time of migration, you need to put it on the schedule soon after your migration is completed. An example of such an issue is EJB 2.x code not upgraded to EJB 3.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>potential</code></p>
<div class="ulist">
<ul>
<li>
<p>You need to examine the issue during the migration process, but there is not enough information to determine whether resolving the issue is mandatory for the migration to succeed. An example of such an issue is migrating a third-party proprietary type when there is no directly compatible type on the target platform.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="yaml-rule-actions_rules-development-guide">Rule Actions</h5>
<div class="paragraph">
<p>Rules can include 2 types of actions: <em>message</em> and <em>tag</em>. Each rule includes one of them or both.</p>
</div>
<div class="paragraph">
<div class="title">Message actions</div>
<p>A message action creates an issue with a message when the rule matches. The custom data exported by providers can also be used in the message.</p>
</div>
<div class="paragraph">
<p><code>message: "helpful message about the issue"</code></p>
</div>
<div class="paragraph">
<p><em>Example:</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">- ruleID: test-rule
  when:
    &lt;CONDITION&gt;
  message: Test rule matched. Please resolve this migration issue.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Optionally, a message can include hyperlinks to external URLs that provide relevant information about the issue or a quick fix.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">links:
  - url: "konveyor.io"
    title: "Short title for the link"</code></pre>
</div>
</div>
<div class="paragraph">
<p>A message can also be a template to include information about the match interpolated through custom variables on the rule.</p>
</div>
<div class="paragraph">
<div class="title">Tag actions</div>
<p>A tag action instructs the analyzer to generate one or more tags for the application when a match is found. Each string in the <code>tag</code> field can be a comma-separated list of tags. Optionally, you can assign categories to tags.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">tag:
  - "tag1,tag2,tag3"
  - "Category=tag4,tag5"</code></pre>
</div>
</div>
<div class="paragraph">
<p><em>Example</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">- ruleID: test-rule
  when:
    &lt;CONDITION&gt;
  tag:
  - Language=Golang
  - Env=production
  - Source Code</code></pre>
</div>
</div>
<div class="paragraph">
<p>A tag can be a string or a <code>key=val</code> pair, where the key is treated as a tag category in MTA. Any rule that has a tag action is referred to as a “tagging rule” in this document.</p>
</div>
<div class="paragraph">
<p>Note that issues are not created for rules that contain only tag actions.</p>
</div>
</div>
<div class="sect4">
<h5 id="yaml-rule-conditions_rules-development-guide">Rule conditions</h5>
<div class="paragraph">
<p>Each rule has a <code>when</code> block, which specifies a condition that needs to be met for MTA to perform a certain action.</p>
</div>
<div class="paragraph">
<p>The <code>when</code> block contains one condition, but that condition can have multiple conditions nested under it.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">when:
  &lt;condition&gt;
    &lt;nested-condition&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>MTA supports three types of conditions: <code>provider</code>, <code>and</code>, and <code>or</code>.</p>
</div>
<div class="sect5">
<h6 id="_provider_conditions">Provider conditions</h6>
<div class="paragraph">
<p>MTA supports multi-language source code analysis. Searching for a specific language in the source code is enabled using the <code>provider</code> condition. This condition defines a search query for a specific language provider. The <code>provider</code> condition also specifies which of the provider&#8217;s "capabilities" to use for analyzing the code.</p>
</div>
<div class="paragraph">
<p>The <code>provider</code> condition has the form <code>&lt;provider_name&gt;.&lt;capability&gt;</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">when:
  &lt;provider_name&gt;.&lt;capability&gt;
    &lt;input_fields&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The analyzer currently supports the following <code>provider</code> conditions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>builtin</code></p>
</li>
<li>
<p><code>java</code></p>
</li>
<li>
<p><code>go</code></p>
</li>
<li>
<p><code>.NET</code></p>
</li>
</ul>
</div>
<div class="sect6">
<h7 id="_builtin_provider"><code>builtin</code> provider</h7>
<div class="paragraph">
<p><code>builtin</code> is an internal provider that can analyze various files and internal metadata generated by the engine.</p>
</div>
<div class="paragraph">
<p>This provider has the following capabilities:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>file</code></p>
</li>
<li>
<p><code>filecontent</code></p>
</li>
<li>
<p><code>xml</code></p>
</li>
<li>
<p><code>json</code></p>
</li>
<li>
<p><code>hasTags</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title"><code>file</code></div>
<p>The <code>file</code> capability enables the provider to search for files in the source code that match a given pattern.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">when:
  builtin.file:
    pattern: "&lt;regex_to_match_filenames&gt;"</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title"><code>filecontent</code></div>
<p>The <code>filecontent</code> capability enables the provider to search for content that matches a given pattern.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">when:
  builtin.filecontent:
    filePattern: "&lt;regex_to_match_filenames_to_scope_search&gt;"
    pattern: "&lt;regex_to_match_content_in_the_matching_files&gt;"</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title"><code>xml</code></div>
<p>The <code>xml</code> capability enables the provider to query XPath expressions on a list of provided XML files. This capability takes 2 input parameters, <code>xpath</code> and <code>filepaths</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">when:
  builtin.xml:
    xpath: "&lt;xpath_expressions&gt;" <b class="conum">(1)</b>
    filepaths: <b class="conum">(2)</b>
      - "/src/file1.xml"
      - "/src/file2.xml"</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p><code>xpath</code> must be a valid XPath expression.</p>
</li>
<li>
<p><code>filepaths</code> is a list of files to apply the XPath query to.</p>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title"><code>json</code></div>
<p>The <code>json</code> capability enables the provider to query XPath expressions on a list of provided JSON files. Currently, <code>json</code> only takes XPath as input and performs the search on all JSON files in the codebase.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">when:
  builtin.json:
    xpath: "&lt;xpath_expressions&gt;" <b class="conum">(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p><code>xpath</code> must be a valid XPath expression.</p>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title"><code>hasTags</code></div>
<p>The <code>hasTags</code> capability enables the provider to query application tags. It queries the internal data structure to check whether the application has the given tags.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">when:
  # when more than one tag is given, a logical AND is implied
  hasTags: <b class="conum">(1)</b>
    - "tag1"
    - "tag2"</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>When more than one tag is given, a logical AND is implied.</p>
</li>
</ol>
</div>
</div>
<div class="sect6">
<h7 id="_java_provider"><code>java</code> provider</h7>
<div class="paragraph">
<p>The <code>java</code> provider analyzes Java source code.</p>
</div>
<div class="paragraph">
<p>This provider has the following capabilities:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>referenced</code></p>
</li>
<li>
<p><code>dependency</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title"><code>referenced</code></div>
<p>The <code>referenced</code> capability enables the provider to find references in the source code. This capability takes two input parameters, <code>pattern</code> and <code>location</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">when:
  java.referenced:
    pattern: "&lt;pattern&gt;" <b class="conum">(1)</b>
    location: "&lt;location&gt;" <b class="conum">(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>A regular expression pattern to match, for example, <code>org.kubernetes.*</code>.</p>
</li>
<li>
<p>Specifies the exact location where the pattern needs to be matched, for example, <code>IMPORT</code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The supported locations are the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>CONSTRUCTOR_CALL</code></p>
</li>
<li>
<p><code>TYPE</code></p>
</li>
<li>
<p><code>INHERITANCE</code></p>
</li>
<li>
<p><code>METHOD_CALL</code></p>
</li>
<li>
<p><code>ANNOTATION</code></p>
</li>
<li>
<p><code>IMPLEMENTS_TYPE</code></p>
</li>
<li>
<p><code>ENUM_CONSTANT</code></p>
</li>
<li>
<p><code>RETURN_TYPE</code></p>
</li>
<li>
<p><code>IMPORT</code></p>
</li>
<li>
<p><code>VARIABLE_DECLARATION</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title"><code>dependency</code></div>
<p>The <code>dependency</code> capability  enables the provider to find dependencies for a given application. MTA generates a list of the application&#8217;s dependencies, and you can use this capability to query the list and check whether a certain dependency exists for the application within a given range of the dependency&#8217;s versions.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">when:
  java.dependency:
    name: "&lt;dependency_name&gt;" <b class="conum">(1)</b>
    upperbound: "&lt;version_string&gt;" <b class="conum">(2)</b>
    lowerbound: "&lt;version_string&gt;" <b class="conum">(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Name of the dependency to search for.</p>
</li>
<li>
<p>Upper bound on the version of the dependency.</p>
</li>
<li>
<p>Lower bound on the version of the dependency.</p>
</li>
</ol>
</div>
</div>
<div class="sect6">
<h7 id="_go_provider"><code>go</code> provider</h7>
<div class="paragraph">
<p>The <code>go</code> provider analyzes Go source code. This provider&#8217;s capabilities are <code>referenced</code> and <code>dependency</code>.</p>
</div>
<div class="paragraph">
<div class="title"><code>referenced</code></div>
<p>The <code>referenced</code> capability enables the provider to find references in the source code.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">when:
  go.referenced: "&lt;regex_to_find_reference&gt;"</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title"><code>dependency</code></div>
<p>The <code>dependency</code> capability  enables the provider to find dependencies for an application.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">when:
  go.dependency:
    name: "&lt;dependency_name&gt;" <b class="conum">(1)</b>
    upperbound: "&lt;version_string&gt;" <b class="conum">(2)</b>
    lowerbound: "&lt;version_string&gt;" <b class="conum">(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Name of the dependency to search for.</p>
</li>
<li>
<p>Upper bound on the version of the dependency.</p>
</li>
<li>
<p>Lower bound on the version of the dependency.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_custom_variables">Custom variables</h6>
<div class="paragraph">
<p>Provider conditions can have associated custom variables. You can use custom variables to capture relevant information from the matched line in the source code. The values of these variables are interpolated with data matched in the source code. These values can be used to generate detailed templated messages in a rule&#8217;s action (see <a href="#yaml-rule-actions_rules-development-guide">Message actions</a>). They can be added to a rule in the <code>customVariables</code> field:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">- ruleID: lang-ref-004
   customVariables:
   - pattern: '([A-z]+)\.get\(\)' <b class="conum">(1)</b>
      name: VariableName <b class="conum">(2)</b>
    message: "Found generic call - {{ VariableName }}" <b class="conum">(3)</b>
  when:
      java.referenced:
          location: METHOD_CALL
          pattern: com.example.apps.GenericClass.get</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p><code>pattern</code>: A regular expression pattern that is matched on the source code line when a match is found.</p>
</li>
<li>
<p><code>name</code>: The name of the variable that can be used in templates.</p>
</li>
<li>
<p><code>message</code>: A template for a message using a custom variable.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_logical_conditions">Logical conditions</h5>
<div class="paragraph">
<p>The analyzer provides two basic logical conditions, <code>and</code> and <code>or</code>, which enable you to aggregate results of other conditions and create more complex queries.</p>
</div>
<div class="sect5">
<h6 id="_and_condition"><code>and</code> condition</h6>
<div class="paragraph">
<p>The <code>and</code> condition performs a logical AND operation on the results of an array of conditions. An <code>and</code> condition matches when <em>all</em> of its child conditions match.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">when:
  and:
    - &lt;condition1&gt;
    - &lt;condition2&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><em>Example</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">when:
  and:
    - java.dependency:
        name: junit.junit
        upperbound: 4.12.2
        lowerbound: 4.4.0
    - java.referenced:
        location: IMPORT
        pattern: junit.junit</code></pre>
</div>
</div>
<div class="paragraph">
<p>Conditions can also be nested within other conditions.</p>
</div>
<div class="paragraph">
<p><em>Example</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">when:
  and:
  - and:
    - go.referenced: "*CustomResourceDefinition*"
    - java.referenced:
        pattern: "*CustomResourceDefinition*"
  - go.referenced: "*CustomResourceDefinition*"</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_or_condition"><code>or</code> condition</h6>
<div class="paragraph">
<p>The <code>or</code> condition performs a logical OR operation on the results of an array of conditions. An <code>or</code> condition matches when <em>any</em> of its child conditions matches.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">when:
  or:
    - &lt;condition1&gt;
    - &lt;condition2&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><em>Example</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">when:
  or:
  - java.dependency:
      name: junit.junit
      upperbound: 4.12.2
      lowerbound: 4.4.0
  - java.referenced:
      location: IMPORT
      pattern: junit.junit</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_rulesets">2.1.2. Rulesets</h4>
<div class="paragraph">
<p>A set of rules forms a ruleset. MTA does not require every rule file to belong to a ruleset, but you can use rulesets to group multiple rules that achieve a common goal and to pass the rules to the rules engine.</p>
</div>
<div class="paragraph">
<p>You can create a ruleset by placing one or more YAML rules in a directory and creating a <code>ruleset.yaml</code> file at the directory root. When you pass this directory as input to the MTA CLI using the <code>--rules</code> option, all rules in this directory are treated as a part of the ruleset defined by <code>ruleset.yaml</code> file.</p>
</div>
<div class="paragraph">
<p>The <code>ruleset.yaml</code> file stores the metadata of the ruleset.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">name: "Name of the ruleset" <b class="conum">(1)</b>
description: "Description of the ruleset"
labels: <b class="conum">(2)</b>
  - key=val</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>The name must be unique within the provided rulesets.</p>
</li>
<li>
<p>Ruleset labels are inherited by all rules that belong to the ruleset.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="creating-basic-yaml-rules_rules-development-guide">2.2. Creating a basic YAML rule</h3>
<div class="paragraph">
<p>This section describes how to create a basic MTA YAML rule. This assumes that you already have MTA installed. See the MTA <a href="https://access.redhat.com/documentation/en-us/migration_toolkit_for_applications/7.0/html-single/cli_guide"><em>CLI Guide</em></a> for installation instructions.</p>
</div>
<div class="sect3">
<h4 id="create-basic-yaml-rule-template_rules-development-guide">2.2.1. Creating a basic YAML rule template</h4>
<div class="paragraph">
<p>MTA YAML-based rules have the following basic structure:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">when(condition)
 message(message)
 tag(tags)</code></pre>
</div>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the <code>/home/&lt;USER&gt;/</code> directory, create a file containing the basic syntax for YAML rules as follows:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">- category: mandatory
  description: |
   &lt;DESCRIPTION TITLE&gt;
   &lt;DESCRIPTION TEXT&gt;
  effort: &lt;EFFORT&gt;
  labels:
  - konveyor.io/source=&lt;SOURCE_TECH&gt;
  - konveyor.io/target=&lt;TARGET_TECH&gt;
  links:
 - url: &lt;HYPERLINK&gt;
   title: &lt;HYPERLINK_TITLE&gt;
  message: &lt;MESSAGE&gt;
  tag:
  - &lt;TAG1&gt;
  - &lt;TAG2&gt;
  ruleID: &lt;RULE_ID&gt;
  when:
   &lt;CONDITIONS&gt;</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="create-basic-yaml-ruleset-template_rules-development-guide">2.2.2. Creating a basic YAML ruleset template</h4>
<div class="paragraph">
<p>If you want to group multiple similar rules, you can create a ruleset for them by placing their files in a directory and creating a <code>ruleset.yaml</code> file at the directory&#8217;s root. When you pass this directory as input to the MTA CLI using the <code>--rules</code> option, MTA treats all the files in the directory as belonging to the ruleset defined in the <code>ruleset.yaml</code> file.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create a template for <code>ruleset.yaml</code> files if you want to pass the entire directory using the <code>--rules</code> option:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">name: &lt;RULESET_NAME&gt; <b class="conum">(1)</b>
description: &lt;RULESET_DESCRIPTION&gt;
labels: <b class="conum">(2)</b>
  - key=val</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>The name must be unique within the provided rulesets.</p>
</li>
<li>
<p>Ruleset labels are inherited by all rules that belong to the ruleset.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="create-yaml-rule_rules-development-guide">2.2.3. Creating a YAML rule</h4>
<div class="paragraph">
<p>Each rule file contains one or more YAML rules. Every rule comprises metadata, conditions and actions.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create a <code>when</code> condition.</p>
<div class="paragraph">
<p>The <code>when</code> condition of a YAML rule can be <code>provider</code>, <code>and</code> or <code>or</code>.</p>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Create a <code>provider</code> condition</p>
<div class="paragraph">
<p>The provider condition is used to define a search query for a specific language provider and to invoke a certain capability of the provider.</p>
</div>
<div class="paragraph">
<p>The condition&#8217;s general format is <code>&lt;provider_name&gt;.&lt;capability&gt;</code>. The condition also has inner fields to specify details of the search. The way you create a <code>provider</code> condition and its inner fields depends on which provider you use and which capability you invoke.</p>
</div>
<div class="paragraph">
<p>The table below lists the available providers and their capabilities. Select a provider and its capability that suit the purpose of the rule you want to create. This part of the condition does not contain any of the condition&#8217;s fields yet.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 25%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Provider</th>
<th class="tableblock halign-left valign-top">Capability</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock"><code>java</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>referenced</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Finds references of a pattern with an optional code location for detailed searches</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dependency</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checks whether the application has a given dependency</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="5"><p class="tableblock"><code>builtin</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>xml</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Searches XML files using XPath queries</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>json</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Searches JSON files using JSONPath queries</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>filecontent</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Searches content in regular files using RegEx patterns</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>file</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Finds files with names matching a given pattern</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>hasTags</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checks whether a tag is created for the application through a tagging rule</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock">go</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>referenced</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Finds references of a pattern</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dependency</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checks whether the application has a given dependency</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The example below shows a <code>java</code> provider condition that uses the <code>referenced</code> capability.</p>
</div>
<div class="paragraph">
<p><em>Example</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">when:
  java.referenced:</code></pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Add suitable fields to the <code>provider</code> condition.</p>
<div class="paragraph">
<p>The table below lists all available providers, their capabilities, and their fields. Select the fields that belong to the provider and capability that you have chosen. Note that some fields are mandatory.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 20%;">
<col style="width: 15%;">
<col style="width: 35%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Provider</th>
<th class="tableblock halign-left valign-top">Capability</th>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Required?</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="6"><p class="tableblock"><code>java</code></p></td>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock"><code>referenced</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pattern</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RegEx pattern</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>location</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Source code location; see below for a list of all supported search locations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="4"><p class="tableblock"><code>dependency</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the dependency</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>nameregex</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RegEx pattern to match the name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>upperbound</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Matches version numbers lower than or equal to</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>lowerbound</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Matches version numbers greater than or equal to</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="9"><p class="tableblock"><code>builtin</code></p></td>
<td class="tableblock halign-left valign-middle" rowspan="3"><p class="tableblock"><code>xml</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>xpath</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">XPath query</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>namespaces</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A map to scope down query to namespaces</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>filepaths</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional list of files to scope down search</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock"><code>json</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>xpath</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">XPath query</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>filepaths</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional list of files to scope down search</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock"><code>filecontent</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pattern</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RegEx pattern to match in content</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>filePattern</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Only searches in files with names matching this pattern</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>file</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pattern</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Finds files with names matching this pattern</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>hasTags</code></p></td>
<td class="tableblock halign-center valign-top" colspan="3"><p class="tableblock">This is an inline list of string tags. See <strong>Tag Actions</strong> in <a href="#yaml-rule-actions_rules-development-guide">Rule Actions</a> for details on tag format.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="5"><p class="tableblock"><code>go</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>referenced</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pattern</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RegEx pattern</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="4"><p class="tableblock"><code>dependency</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the dependency</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>nameregex</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RegEx pattern to match the name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>upperbound</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Matches version numbers lower than or equal to</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>lowerbound</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Matches version numbers greater than or equal to</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The following search locations can be used to scope down <code>java</code> searches:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>CONSTRUCTOR_CALL</p>
</li>
<li>
<p>TYPE</p>
</li>
<li>
<p>INHERITANCE</p>
</li>
<li>
<p>METHOD_CALL</p>
</li>
<li>
<p>ANNOTATION</p>
</li>
<li>
<p>IMPLEMENTS_TYPE</p>
</li>
<li>
<p>ENUM_CONSTANT</p>
</li>
<li>
<p>RETURN_TYPE</p>
</li>
<li>
<p>IMPORT</p>
</li>
<li>
<p>VARIABLE_DECLARATION</p>
<div class="paragraph">
<p>The example below shows the <code>when</code> condition of a rule that searches for references of a package.</p>
</div>
<div class="paragraph">
<p><em>Example</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">when:
  java.referenced:
    location: PACKAGE
    pattern: org.jboss.*</code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Create an <code>AND</code> or <code>OR</code> condition</p>
<div class="ulist">
<ul>
<li>
<p>An <code>and</code> condition matches when <em>all</em> of its child conditions match. Create an <code>and</code> condition as follows:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">when:
  and:
  - java.dependency:
      name: junit.junit
      upperbound: 4.12.2
      lowerbound: 4.4.0
  - java.referenced:
      location: IMPORT
      pattern: junit.junit</code></pre>
</div>
</div>
</li>
<li>
<p>An <code>or</code> condition matches when <em>any</em> of its child conditions match. Create an <code>or</code> condition as follows:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">when:
  or:
  - java.dependency:
      name: junit.junit
      upperbound: 4.12.2
      lowerbound: 4.4.0
  - java.referenced:
      location: IMPORT
      pattern: junit.junit</code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="running-analysis-using-custom-yaml-rule_rules-development-guide">2.2.4. Running an analysis using a custom YAML rule</h4>
<div class="paragraph">
<p>To run an analysis, use the <code>--rules</code> option in the CLI.</p>
</div>
<div class="ulist">
<div class="title">Procedure</div>
<ul>
<li>
<p>To use the rules in a single rule file, <code>/home/&lt;USER&gt;/rule.yaml</code>, run the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">mta-cli analyze --input /home/&lt;USER&gt;/data/ --output /home/&lt;USER&gt;/output/ --rules /home/&lt;USER&gt;/rule.yaml</code></pre>
</div>
</div>
<div class="paragraph">
<p>where:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>/home/&lt;USER&gt;/data/</code> - the directory of the source code or binary</p>
</li>
<li>
<p><code>/home/&lt;USER&gt;/output/</code> - the directory for reports (HTML and YAML)</p>
</li>
</ul>
</div>
</li>
<li>
<p>To use multiple rule files, you need to place them in a directory and to add a <code>ruleset.yaml</code> file. Then the directory is treated as a <em>ruleset</em>, and you can pass it as input to the <code>--rules</code> option.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note that if you wish to use the <code>--target</code> or <code>--source</code> option in the CLI, the engine will only select rules that match the label for that target. Therefore, make sure that you have added target or source labels on your rules. See <a href="#yaml-rule-labels_rules-development-guide">Reserved labels</a> for more details.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="create-first-yaml-rule_rules-development-guide">2.3. Creating your first YAML rule</h3>
<div class="paragraph">
<p>This section guides you through the process of creating and testing your first MTA YAML-based rule. This assumes that you have already installed MTA. See <a href="https://access.redhat.com/documentation/en-us/migration_toolkit_for_applications/7.0/html-single/cli_guide/index#installing_and_running_the_cli">Installing and running the CLI</a> in the <em>CLI Guide</em> for installation instructions.</p>
</div>
<div class="paragraph">
<p>In this example, you will create a rule to discover instances where an application defines a <code>jboss-web.xml</code> file containing a <code>&lt;class-loading&gt;</code> element and to provide a link to the documentation that describes how to migrate the code.</p>
</div>
<div class="sect3">
<h4 id="creating-yaml-file-for-the-rule_rules-development-guide">2.3.1. Creating a YAML file for the rule</h4>
<div class="ulist">
<ul>
<li>
<p>Create a YAML file for your first rule.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ mkdir /home/&lt;USER&gt;/rule.yaml</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="mta-creating-data-to-test-the-rule_rules-development-guide">2.3.2. Creating data to test the rule</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create <code>jboss-web.xml</code> and <code>pom.xml</code> files in a directory:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">mkdir /home/&lt;USER&gt;/data/
touch /home/&lt;USER&gt;/data/jboss-web.xml
touch /home/&lt;USER&gt;/data/pom.xml</pre>
</div>
</div>
</li>
<li>
<p>In the <code>jboss-web.xml</code> file you created, paste the following content:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">&lt;!DOCTYPE jboss-web PUBLIC "-//JBoss//DTD Web Application 4.2//EN" "http://www.jboss.org/j2ee/dtd/jboss-web_4_2.dtd"&gt;
&lt;jboss-web&gt;
    &lt;class-loading java2ClassLoadingCompliance="false"&gt;
        &lt;loader-repository&gt;
            seam.jboss.org:loader=@projectName@
            &lt;loader-repository-config&gt;java2ParentDelegation=false&lt;/loader-repository-config&gt;
        &lt;/loader-repository&gt;
    &lt;/class-loading&gt;
&lt;/jboss-web&gt;</pre>
</div>
</div>
</li>
<li>
<p>In the <code>pom.xml</code> file you created, paste the following content:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;

  &lt;groupId&gt;test&lt;/groupId&gt;
  &lt;artifactId&gt;test&lt;/artifactId&gt;
  &lt;version&gt;1.1.0-SNAPSHOT&lt;/version&gt;

  &lt;properties&gt;
	&lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;
	&lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;
  &lt;/properties&gt;

  &lt;dependencies&gt;
  &lt;/dependencies&gt;
&lt;/project&gt;</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="mta-creating-the-rule_rules-development-guide">2.3.3. Creating the rule</h4>
<div class="paragraph">
<p>MTA YAML-based rules use the following rule pattern:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">when(condition)
  perform(action)</pre>
</div>
</div>
<div class="ulist">
<div class="title">Procedure</div>
<ul>
<li>
<p>In the <code>rule.yaml</code> file you created, paste the following contents:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">- ruleID: &lt;UNIQUE_RULE_ID&gt; <b class="conum">(1)</b>
  description: &lt;DESCRIPTION&gt; <b class="conum">(2)</b>
  when:
    &lt;CONDITION(S)&gt; <b class="conum">(3)</b>
  message: &lt;MESSAGE&gt; <b class="conum">(4)</b>
  labels: &lt;LABELS&gt; <b class="conum">(5)</b>
  effort: &lt;EFFORT&gt; <b class="conum">(6)</b>
  links:
  - &lt;LINKS&gt; <b class="conum">(7)</b></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Unique ID for your rule. For example, <code>jboss5-web-class-loading</code>.</p>
</li>
<li>
<p>Text description of the rule.</p>
</li>
<li>
<p>Complete the <code>when</code> block specifying one or more conditions:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Use the <code>builtin</code> provider&#8217;s XML capability because this rule checks for a match in an XML file.</p>
</li>
<li>
<p>To match on the <code>class-loading</code> element that is a child of <code>jboss-web</code>, use the XPath expression <code>jboss-web/web-loading</code> as an XML query. In this case, you need just one condition:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">when:
  builtin.xml:
    xpath: jboss-web/class-loading</pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Helpful message explaining the migration issue. The message is generated in the report when the rule matches. For example:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">message: The class-loading element is no longer valid in the jboss-web.xml file.</pre>
</div>
</div>
</li>
<li>
<p>List of string labels for the rule.</p>
</li>
<li>
<p>Number of expected story points to fix this issue.</p>
</li>
<li>
<p>One or more hyperlinks pointing to documentation around the migration issues that you find.</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">links:
- url: https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.4/html-single/Migration_Guide/index.html#Create_or_Modify_Files_That_Control_Class_Loading_in_JBoss_Enterprise_Application_Platform_6
  title: Create or Modify Files That Control Class Loading in JBoss EAP 6</pre>
</div>
</div>
<div class="paragraph">
<p>The rule is now complete and looks similar to the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">- ruleID: jboss5-web-class-loading
  description: Find class loading element in JBoss XML file.
  when:
    builtin.xml:
      xpath: jboss-web/class-loading
  message: The class-loading element is no longer valid in the jboss-web.xml file.
  effort: 3
  links:
  - url: https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.4/html-single/Migration_Guide/index.html#Create_or_Modify_Files_That_Control_Class_Loading_in_JBoss_Enterprise_Application_Platform_6
    title: Create or Modify Files That Control Class Loading in JBoss EAP 6</pre>
</div>
</div>
</li>
</ol>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="mta-installing-the-rule_rules-development-guide">2.3.4. Installing the rule</h4>
<div class="ulist">
<div class="title">Procedure</div>
<ul>
<li>
<p>Point the CLI to the rule file you created :</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">–rules /home/&lt;USER&gt;/rules.yaml</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="mta-testing-the-rule_rules-development-guide">2.3.5. Testing the rule</h4>
<div class="paragraph">
<div class="title">Procedure</div>
<p>To test the rule, point the input to the test data you created and pass the rule using the rules option in MTA CLI:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">mta-cli analyze --input /home/&lt;USER&gt;/data/ --output /home/&lt;USER&gt;/output/ --rules /home/&lt;USER&gt;/rules.yaml</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="mta-reviewing-the-report_rules-development-guide">2.3.6. Reviewing the report</h4>
<div class="paragraph">
<p>Review the report to be sure that it provides the expected results.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Once the analysis is complete, the command outputs the path to the HTML report:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">INFO[0066] Static report created. Access it at this URL:  URL="file:/home/&lt;USER&gt;/output/static-report/index.html"</pre>
</div>
</div>
<div class="paragraph">
<p>Open <code>/home/&lt;USER_NAME&gt;/output/static-report/index.html</code> in a web browser.</p>
</div>
</li>
<li>
<p>Navigate to the <strong>Issues</strong> tab in the left menu.</p>
</li>
<li>
<p>Verify that the rule is executed:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>In the <strong>Issues</strong> table, type <code>JBoss XML</code> in the search bar.</p>
</li>
<li>
<p>Verify that the issue with the title <code>Find class loading element in JBoss XML file</code> is present in the table.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Click the <strong>jboss-web.xml</strong> link to open the affected file.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing-rules_rules-development-guide">3. Testing XML rules</h2>
<div class="sectionbody">
<div class="paragraph">
<p>After you have created an XML rule, you should create a test rule to ensure that it works.</p>
</div>
<div class="sect2">
<h3 id="_creating_a_test_rule">3.1. Creating a test rule</h3>
<div class="paragraph">
<p>Test rules are created using a process similar to the process for creating an XML rule, with the following differences:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Test rules should be placed in a <code>tests/</code> directory beneath the rule to be tested.</p>
</li>
<li>
<p>Any data, such as test classes, should be placed in a <code>data/</code> directory beneath the <code>tests/</code> directory.</p>
</li>
<li>
<p>Test rules should use the <code>.windup.test.xml</code> extension.</p>
</li>
<li>
<p>These rules use the structure defined in the Test XML Rule Structure.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In addition, it is recommended to create a test rule that follows the name of the rule it tests. For example, if a rule were created with a filename of <code>proprietary-rule.mta.xml</code>, the test rule should be called <code>proprietary-rule.windup.test.xml</code>.</p>
</div>
<div class="sect3">
<h4 id="test-xml-rule-structure_rules-development-guide">3.1.1. Test XML rule structure</h4>
<div class="paragraph">
<p>All test XML rules are defined as elements within <code>ruletests</code> which contain one or more <code>rulesets</code>. For more details, see the <a href="http://windup.jboss.org/schema/windup-jboss-ruleset.xsd">MTA XML rule schema</a>.</p>
</div>
<div class="paragraph">
<p>A ruletest is a group of one or more tests that targets a specific area of migration. This is the basic structure of the <code>&lt;ruletest&gt;</code> element.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>&lt;ruletest id="&lt;RULE_TOPIC&gt;-test"&gt;</code>: Defines this as a unique MTA ruletest and gives it a unique ruletest id.</p>
<div class="ulist">
<ul>
<li>
<p><code>&lt;testDataPath&gt;</code>: Defines the path to any data, such as classes or files, used for testing.</p>
</li>
<li>
<p><code>&lt;sourceMode&gt;</code>: Indicates if the passed in data only contains source files. If an archive, such as an EAR, WAR, or JAR, is in use, then this should be set to <code>false</code>. Defaults to <code>true</code>.</p>
</li>
<li>
<p><code>&lt;rulePath&gt;</code>: The path to the rule to be tested. This should end in the name of the rule to test.</p>
</li>
<li>
<p><code>&lt;ruleset&gt;</code>: Rulesets containing the logic of the test cases. These are identical to the ones defined in Rulesets.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_test_xml_rule_syntax">3.1.2. Test XML rule syntax</h4>
<div class="paragraph">
<p>In addition to the tags in the standard XML rule syntax, the following <code>when</code> conditions are commonly used for creating test rules:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>&lt;not&gt;</code></p>
</li>
<li>
<p><code>&lt;iterable-filter&gt;</code></p>
</li>
<li>
<p><code>&lt;classification-exists&gt;</code></p>
</li>
<li>
<p><code>&lt;hint-exists&gt;</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In addition to the tags in the standard <code>perform action</code> syntax, the following <code>perform</code> conditions are commonly used as actions in test rules:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>&lt;fail&gt;</code></p>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="not-syntax_rules-development-guide">&lt;not&gt; syntax</h5>
<h6 id="_summary" class="discrete">Summary</h6>
<div class="paragraph">
<p>The <code>&lt;not&gt;</code> element is the standard logical <em>not</em> operator, and is commonly used to perform a <code>&lt;fail&gt;</code> if the condition is not met.</p>
</div>
<div class="paragraph">
<p>The following is an example of a test rule that fails if only a specific message exists at the end of the analysis.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-xml" data-lang="xml">&lt;ruletest xmlns="http://windup.jboss.org/schema/jboss-ruleset"
          id="proprietary-servlet-test" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:schemaLocation="http://windup.jboss.org/schema/jboss-ruleset http://windup.jboss.org/schema/jboss-ruleset/windup-jboss-ruleset.xsd"&gt;
  &lt;testDataPath&gt;data/&lt;/testDataPath&gt;
  &lt;rulePath&gt;../proprietary-servlet.windup.xml&lt;/rulePath&gt;
  &lt;ruleset&gt;
    &lt;rules&gt;
      &lt;rule id="proprietary-servlet-01000-test"&gt;
        &lt;when&gt;
          &lt;!--
	    The `&lt;not&gt;` will perform a logical _not_ operator on the elements within.
	  --&gt;
          &lt;not&gt;
            &lt;!--
	      The defined `&lt;iterable-filter&gt;` has a size of `1`. This rule will only match on a single instance of the defined hint.
	    --&gt;
            &lt;iterable-filter size="1"&gt;
              &lt;hint-exists message="Replace the proprietary @ProprietaryServlet annotation with the Java EE 7 standard @WebServlet annotation*" /&gt;
            &lt;/iterable-filter&gt;
          &lt;/not&gt;
        &lt;/when&gt;
        &lt;!--
	  This `&lt;perform&gt;` element is only executed if the previous `&lt;when&gt;` condition is false.
          This ensures that it only executes if there is not a single instance of the defined hint.
        --&gt;
        &lt;perform&gt;
          &lt;fail message="Hint for @ProprietaryServlet was not found!" /&gt;
        &lt;/perform&gt;
      &lt;/rule&gt;
    &lt;/rules&gt;
  &lt;/ruleset&gt;
&lt;/ruletest&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>&lt;not&gt;</code> element has no unique attributes or child elements.</p>
</div>
</div>
<div class="sect4">
<h5 id="iterable-filter-syntax_rules-development-guide">&lt;iterable-filter&gt; syntax</h5>
<h6 id="_summary_2" class="discrete">Summary</h6>
<div class="paragraph">
<p>The <code>&lt;iterable-filter&gt;</code> element counts the number of times a condition is verified. For additional information, see the <a href="https://github.com/windup/windup/blob/master/rules-base/api/src/main/java/org/jboss/windup/rules/general/IterableFilter.java">IterableFilter</a> class.</p>
</div>
<div class="paragraph">
<p>The following is an example that looks for four instances of the specified message.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-xml" data-lang="xml">&lt;ruletest xmlns="http://windup.jboss.org/schema/jboss-ruleset"
          id="proprietary-servlet-test" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:schemaLocation="http://windup.jboss.org/schema/jboss-ruleset http://windup.jboss.org/schema/jboss-ruleset/windup-jboss-ruleset.xsd"&gt;
  &lt;testDataPath&gt;data/&lt;/testDataPath&gt;
  &lt;rulePath&gt;../proprietary-servlet.mta.xml&lt;/rulePath&gt;
  &lt;ruleset&gt;
    &lt;rules&gt;
      &lt;rule id="proprietary-servlet-03000-test"&gt;
        &lt;when&gt;
          &lt;!--
	    The `&lt;not&gt;` will perform a logical _not_ operator on the elements within.
	  --&gt;
          &lt;not&gt;
	    &lt;!--
	      The defined `&lt;iterable-filter&gt;` has a size of `4`. This rule will only match on four instances of the defined hint.
	    --&gt;
            &lt;iterable-filter size="4"&gt;
              &lt;hint-exists message="Replace the proprietary @ProprietaryInitParam annotation with the Java EE 7 standard @WebInitParam annotation*" /&gt;
            &lt;/iterable-filter&gt;
          &lt;/not&gt;
        &lt;/when&gt;
	&lt;!--
	  This `&lt;perform&gt;` element is only executed if the previous `&lt;when&gt;` condition is false.
	  In this configuration, it only executes if there are not four instances of the defined hint.
	--&gt;
        &lt;perform&gt;
          &lt;fail message="Hint for @ProprietaryInitParam was not found!" /&gt;
        &lt;/perform&gt;
      &lt;/rule&gt;
    &lt;/rules&gt;
  &lt;/ruleset&gt;
&lt;/ruletest&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>&lt;iterable-filter&gt;</code> element has no unique child elements.</p>
</div>
<h6 id="_iterable_filter_element_attributes" class="discrete">&lt;iterable-filter&gt; element attributes</h6>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">size</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number of times to be verified.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="classification_exists_syntax_rules-development-guide">&lt;classification-exists&gt; syntax</h5>
<div class="paragraph">
<p>The <code>&lt;classification-exists&gt;</code> element determines if a specific classification title has been included in the analysis. For additional information, see the <a href="https://github.com/windup/windup/blob/master/reporting/api/src/main/java/org/jboss/windup/reporting/config/ClassificationExists.java">ClassificationExists</a> class.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>When testing for a message that contains special characters, such as <code>[</code> or <code>'</code>, you must escape each special character with a backslash (<code>\</code>) to correctly match.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following is an example that searches for a specific classification title.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-xml" data-lang="xml">&lt;ruletest xmlns="http://windup.jboss.org/schema/jboss-ruleset"
          id="proprietary-servlet-test" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:schemaLocation="http://windup.jboss.org/schema/jboss-ruleset http://windup.jboss.org/schema/jboss-ruleset/windup-jboss-ruleset.xsd"&gt;
  &lt;testDataPath&gt;data/&lt;/testDataPath&gt;
  &lt;rulePath&gt;../weblogic.mta.xml&lt;/rulePath&gt;
  &lt;ruleset&gt;
    &lt;rules&gt;
      &lt;rule id="weblogic-01000-test"&gt;
        &lt;when&gt;
          &lt;!--
	    The `&lt;not&gt;` will perform a logical _not_ operator on the elements within.
	  --&gt;
          &lt;not&gt;
	    &lt;!--
	      The defined `&lt;classification-exists&gt;` is attempting to match on the defined title.
	      This classification would have been generated by a matching `&lt;classification title="WebLogic scheduled job" .../&gt;` rule.
	    --&gt;
            &lt;classification-exists classification="WebLogic scheduled job" /&gt;
          &lt;/not&gt;
        &lt;/when&gt;
	&lt;!--
	  This `&lt;perform&gt;` element is only executed if the previous `&lt;when&gt;` condition is false.
	  In this configuration, it only executes if there is not a matching classification.
	--&gt;
        &lt;perform&gt;
          &lt;fail message="Triggerable not found" /&gt;
        &lt;/perform&gt;
      &lt;/rule&gt;
    &lt;/rules&gt;
  &lt;/ruleset&gt;
&lt;/ruletest&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>&lt;classification-exists&gt;</code> has no unique child elements.</p>
</div>
<h6 id="_classification_exists_element_attributes" class="discrete">&lt;classification-exists&gt; element attributes</h6>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">classification</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The <code>&lt;classification&gt;</code> <code>title</code> to search for.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An optional argument that restricts matching to files that contain the defined filename.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="hint-exists-syntax_rules-development-guide">&lt;hint-exists&gt; syntax</h5>
<div class="paragraph">
<p>The <code>&lt;hint-exists&gt;</code> element determines if a specific hint has been included in the analysis. It searches for any instances of the defined message, and is typically used to search for the beginning or a specific class inside of a <code>&lt;message&gt;</code> element. For additional information, see the <a href="https://github.com/windup/windup/blob/master/reporting/api/src/main/java/org/jboss/windup/reporting/config/HintExists.java">HintExists</a> class.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>When testing for a message that contains special characters, such as <code>[</code> or <code>'</code>, you must escape each special character with a backslash (<code>\</code>) to correctly match.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following is an example that searches for a specific hint.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-xml" data-lang="xml">&lt;ruletest xmlns="http://windup.jboss.org/schema/jboss-ruleset"
          id="proprietary-servlet-test" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:schemaLocation="http://windup.jboss.org/schema/jboss-ruleset http://windup.jboss.org/schema/jboss-ruleset/windup-jboss-ruleset.xsd"&gt;
  &lt;testDataPath&gt;data/&lt;/testDataPath&gt;
  &lt;rulePath&gt;../weblogic.windup.xml&lt;/rulePath&gt;
  &lt;ruleset&gt;
    &lt;rules&gt;
      &lt;rule id="weblogic-eap7-05000-test"&gt;
        &lt;when&gt;
          &lt;!--
	    The `&lt;not&gt;` will perform a logical _not_ operator on the elements within.
	  --&gt;
          &lt;not&gt;
	    &lt;!--
	      The defined `&lt;hint-exists&gt;` is attempting to match on the defined message.
	      This message would have been generated by a matching `&lt;message&gt;` element on the `&lt;hint&gt;` condition.
	    --&gt;
            &lt;hint-exists message="Replace with the Java EE standard method .*javax\.transaction\.TransactionManager\.resume\(Transaction tx\).*" /&gt;
          &lt;/not&gt;
        &lt;/when&gt;
	&lt;!--
	  This `&lt;perform&gt;` element is only executed if the previous `&lt;when&gt;` condition is false.
	  In this configuration, it only executes if there is not a matching hint.
	--&gt;
        &lt;perform&gt;
          &lt;fail message="Note to replace with standard TransactionManager.resume is missing!" /&gt;
        &lt;/perform&gt;
      &lt;/rule&gt;
    &lt;/rules&gt;
  &lt;/ruleset&gt;
&lt;/ruletest&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>&lt;hint-exists&gt;</code> element has no unique child elements.</p>
</div>
<h6 id="_hint_exists_element_attributes" class="discrete">&lt;hint-exists&gt; element attributes</h6>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">message</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The <code>&lt;hint&gt;</code> <code>message</code> to search for.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An optional argument that restricts matching to <code>InLineHintModels</code> that reference the given filename.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="fail-syntax_rules-development-guide">&lt;fail&gt; syntax</h5>
<div class="paragraph">
<p>The <code>&lt;fail&gt;</code> element reports the execution as a failure and displays the associated message. It is commonly used in conjunction with the <code>&lt;not&gt;</code> condition to display a message only if the conditions are not met.</p>
</div>
<div class="paragraph">
<p>The <code>&lt;fail&gt;</code> element has no unique child elements.</p>
</div>
<h6 id="_fail_element_attributes" class="discrete">&lt;fail&gt; element attributes</h6>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">message</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The message to be displayed.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="manually-test-rules_rules-development-guide">3.2. Manually testing an XML rule</h3>
<div class="paragraph">
<p>You can run an XML rule against your application file to test it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">$ &lt;MTA_HOME&gt;/mta-cli [--sourceMode] --input &lt;INPUT_ARCHIVE_OR_FOLDER&gt; --output &lt;OUTPUT_REPORT_DIRECTORY&gt; --target &lt;TARGET_TECHNOLOGY&gt; --packages &lt;PACKAGE_1&gt; &lt;PACKAGE_2&gt; &lt;PACKAGE_N&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>You should see the following result:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">Report created: &lt;OUTPUT_REPORT_DIRECTORY&gt;/index.html
              Access it at this URL: file:///&lt;OUTPUT_REPORT_DIRECTORY&gt;/index.html</pre>
</div>
</div>
<div class="paragraph">
<p>More examples of how to run MTA are located in the Migration Toolkit for Applications <a href="https://access.redhat.com/documentation/en-us/migration_toolkit_for_applications/7.0/html-single/cli_guide"><em>CLI Guide</em></a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="rules-testng-junit_rules-development-guide">3.3. Testing the rules by using JUnit</h3>
<div class="paragraph">
<p>Once a test rule has been created, it can be analyzed as part of a JUnit test to confirm that the rule meets all criteria for execution. The <code>WindupRulesMultipleTests</code> class in the MTA rules repository is designed to test multiple rules simultaneously, and provides feedback on any missing requirements.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Fork and clone the MTA XML rules. The location of this repository will be referred to as &lt;RULESETS_REPO&gt;.</p>
</li>
<li>
<p>Create a test XML rule.</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Creating the JUnit test configuration</div>
<p>The following instructions detail creating a JUnit test using Eclipse. When using a different IDE, it is recommended to consult your IDE&#8217;s documentation for instructions on creating a JUnit test.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Import the MTA rulesets repository into your IDE.</p>
</li>
<li>
<p>Copy the custom rules, along with the corresponding tests and data, into <code>&lt;/path/to/RULESETS_REPO&gt;/rules-reviewed/&lt;RULE_NAME&gt;/</code>. This should create the following directory structure.</p>
<div class="listingblock">
<div class="title">Directory structure</div>
<div class="content">
<pre class="highlight nowrap"><code>├── *rules-reviewed/*  _(Root directory of the rules found within the project)_
│   ├── *&lt;RULE_NAME&gt;/*  _(Directory to contain the newly developed rule and tests)_
│   │   ├── *&lt;RULE_NAME&gt;.windup.xml*  _(Custom rule)_
│   │   ├── *tests/*  _(Directory that contains any test rules and data)_
│   │   │   ├── *&lt;RULE_NAME&gt;.windup.test.xml* _(Test rule)_
│   │   │   └── *data/*  _(Optional directory to contain test rule data)_</code></pre>
</div>
</div>
</li>
<li>
<p>Select <strong>Run</strong> from the top menu bar.</p>
</li>
<li>
<p>Select <strong>Run Configurations&#8230;&#8203;</strong> from the drop down that appears.</p>
</li>
<li>
<p>Right-click <strong>JUnit</strong> from the options on the left side and select <strong>New</strong>.</p>
</li>
<li>
<p>Enter the following:</p>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: A name for your JUnit test, such as <code>WindupRulesMultipleTests</code>.</p>
</li>
<li>
<p><strong>Project</strong>: Ensure this is set to <code>windup-rulesets</code>.</p>
</li>
<li>
<p><strong>Test class</strong>: Set this to <code>org.jboss.windup.rules.tests.WindupRulesMultipleTests</code>.</p>
<div class="imageblock">
<div class="content">
<img src="topics/images/junit-test.png" alt="junit test">
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Select the <strong>Arguments</strong> tab, and add the <code>-DrunTestsMatching=&lt;RULE_NAME&gt;</code> VM argument. For instance, if your rule name was <code>community-rules</code>, then you would add <code>-DrunTestsMatching=community-rules</code> as seen in the following image.</p>
<div class="imageblock">
<div class="content">
<img src="topics/images/junit-test-arguments.png" alt="junit test arguments">
</div>
</div>
</li>
<li>
<p>Click <strong>Run</strong> in the bottom right corner to begin the test.</p>
<div class="paragraph">
<p>When the execution completes, the results are available for analysis. If all tests passed, then the test rule is correctly formatted. If all tests did not pass, it is recommended to address each of the issues raised in the test failures.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="validation-report_rules-development-guide">3.4. About validation reports</h3>
<div class="paragraph">
<p>Validation reports provide details about test rules and failures and contain the following sections:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Summary</strong></p>
<div class="paragraph">
<p>This section contains the total number of tests run and reports the number of errors and failures. It displays the total success rate and the time taken, in seconds, for the report to be generated.</p>
</div>
</li>
<li>
<p><strong>Package List</strong></p>
<div class="paragraph">
<p>This section contains the number of tests executed for each package and reports the number of errors and failures. It displays the success rate and the time taken, in seconds, for each package to be analyzed.</p>
</div>
<div class="paragraph">
<p>A single package named <code>org.jboss.windup.rules.tests</code> is displayed unless additional test cases have been defined.</p>
</div>
</li>
<li>
<p><strong>Test Cases</strong></p>
<div class="paragraph">
<p>This section describes the test cases. Each failure includes a <strong>Details</strong> section that can be expanded to show the stack trace for the assertion, including a human-readable line indicating the source of the error.</p>
</div>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="validation-report-understanding_rules-development-guide">3.4.1. Creating a validation report</h4>
<div class="paragraph">
<p>You can create a validation report for your custom rules.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You must fork and clone the MTA XML rules.</p>
</li>
<li>
<p>You must have one or more test XML rules to validate.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Navigate to the local <code>windup-rulesets</code> repository.</p>
</li>
<li>
<p>Create a directory for your custom rules and tests: <code>windup-rulesets/rules-reviewed/myTests</code>.</p>
</li>
<li>
<p>Copy your custom rules and tests to the <code>windup-rulesets/rules-reviewed/&lt;myTests&gt;</code> directory.</p>
</li>
<li>
<p>Run the following command from the root directory of the <code>windup-rulesets</code> repository:</p>
<div class="listingblock">
<div class="content">
<pre>$ mvn -Dtest=WindupRulesMultipleTests -DrunTestsMatching=&lt;myTests&gt; clean &lt;myReport&gt;:report <b class="conum">(1)</b> <b class="conum">(2)</b></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Specify the directory containing your custom rules and tests. If you omit the <code>-DrunTestsMatching</code> argument, the validation report will include all the tests and take much longer to generate.</p>
</li>
<li>
<p>Specify your report name.</p>
<div class="paragraph">
<p>The validation report is created in the <code>windup-rulesets/target/site/</code> repository.</p>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="validation-report-errors_rules-development-guide">3.4.2. Validation report error messages</h4>
<div class="paragraph">
<p>Validation reports contain errors encountered while running the rules and tests.</p>
</div>
<div class="paragraph">
<p>The following table contains error messages and how to resolve the errors.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Validation report error messages</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 35%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Error message</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Resolution</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">No test file matching rule</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This error occurs when a rule file exists without a corresponding test file.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Create a test file for the existing rule.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test rule Ids &lt;RULE_NAME&gt; not found!</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This error is thrown when a rule exists without a corresponding ruletest.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Create a test for the existing rule.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">XML parse fail on file &lt;FILE_NAME&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The syntax in the XML file is invalid, and unable to be parsed successfully by the rule validator.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Correct the invalid syntax.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test file path from <code>&lt;testDataPath&gt;</code> tag has not been found. Expected path to test file is: &lt;RULE_DATA_PATH&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No files are found in the path defined in the <code>&lt;testDataPath&gt;</code> tag within the test rule.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Create the path defined in the <code>&lt;testDataPath&gt;</code> tag, and ensure all necessary data files are located within this directory.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">The rule with id="&lt;RULE_ID&gt;" has not been executed.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The rule with the provided id has not been executed during this validation.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ensure that a test data file exists that matches the conditions defined in the specified rule.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="overriding-rules_rules-development-guide">4. Overriding rules</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can override core rules distributed with MTA or even custom rules. For example, you can change the matching conditions, effort, or hint text for a rule. This is done by making a copy of the original rule, marking it as a rule override, and making the necessary adjustments.</p>
</div>
<div class="paragraph">
<p>You can disable a rule by creating a rule override with an empty <code>&lt;rule&gt;</code> element.</p>
</div>
<div class="sect2">
<h3 id="_overriding_a_rule">4.1. Overriding a rule</h3>
<div class="paragraph">
<p>You can override a core or custom rule.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Copy the XML file that contains the rule you want to override to the custom rules directory.</p>
<div class="paragraph">
<p>Custom rules can be placed in <code>&lt;MTA_HOME&gt;/rules</code>, <code>${user.home}/.mta/rules/</code>, or a directory specified by the <code>--userRulesDirectory</code> command-line argument.</p>
</div>
</li>
<li>
<p>Edit the XML file so that it contains only the <code>&lt;rule&gt;</code> elements for the rules that you want to override.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Rules from the original ruleset that are not overridden by the new ruleset are run as normal.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Ensure that you keep the same rule and ruleset IDs. When you copy the original rule XML, this ensures that the IDs match.</p>
</li>
<li>
<p>Ensure that the target technology in the override ruleset matches one of the targets that you specified for running the analysis.</p>
</li>
<li>
<p>Add the <code>&lt;overrideRules&gt;true&lt;/overrideRules&gt;</code> element to the ruleset metadata.</p>
</li>
<li>
<p>Update the rule definition.</p>
<div class="paragraph">
<p>You can change anything in the rule definition. The new rule overrides the original rule in its entirety.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>The following rule override example changes the <code>effort</code> of the <code>weblogic-02000</code> rule in the <code>weblogic</code> ruleset from <code>1</code> to <code>3</code>:</p>
</div>
<div class="listingblock">
<div class="title">Rule override definition example</div>
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0"?&gt;
&lt;ruleset id="weblogic"
    xmlns="http://windup.jboss.org/schema/jboss-ruleset"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://windup.jboss.org/schema/jboss-ruleset http://windup.jboss.org/schema/jboss-ruleset/windup-jboss-ruleset.xsd"&gt; <b class="conum">(1)</b>
    &lt;metadata&gt;
        ...
        &lt;overrideRules&gt;true&lt;/overrideRules&gt; <b class="conum">(2)</b>
    &lt;/metadata&gt;
    &lt;rules&gt;
        &lt;rule id="weblogic-02000" xmlns="http://windup.jboss.org/schema/jboss-ruleset"&gt; <b class="conum">(3)</b>
            &lt;when&gt;
                &lt;javaclass references="weblogic.utils.StringUtils.{*}"/&gt;
            &lt;/when&gt;
            &lt;perform&gt;
                &lt;hint effort="3" category-id="mandatory" title="WebLogic StringUtils Usage"&gt; <b class="conum">(4)</b>
                    &lt;message&gt;Replace with the StringUtils class from Apache Commons.&lt;/message&gt;
                    &lt;link href="https://commons.apache.org/proper/commons-lang/" title="Apache Commons Lang"/&gt;
                    &lt;tag&gt;weblogic&lt;/tag&gt;
                &lt;/hint&gt;
            &lt;/perform&gt;
        &lt;/rule&gt;
    &lt;/rules&gt;
&lt;/ruleset&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Ensure that the <code>ruleset id</code> matches the original <code>ruleset id</code>.</p>
</li>
<li>
<p>Add <code>&lt;overrideRules&gt;true&lt;/overrideRules&gt;</code> to the <code>&lt;metadata&gt;</code> section.</p>
</li>
<li>
<p>Ensure that the <code>rule id</code> matches the original <code>rule id</code>.</p>
</li>
<li>
<p>Updated <code>effort</code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>When you run MTA, this rule overrides the original rule with the same rule ID. You can verify that the new rule was used by viewing the contents of the Rule Provider Executions Overview.</p>
</div>
</div>
<div class="sect2">
<h3 id="_disabling_a_rule">4.2. Disabling a rule</h3>
<div class="paragraph">
<p>To disable a rule, create a rule override definition with an empty <code>&lt;rule&gt;</code> element according to the following example:</p>
</div>
<div class="listingblock">
<div class="title">Rule override definition example to disable a rule</div>
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0"?&gt;
&lt;ruleset id="weblogic"
    xmlns="http://windup.jboss.org/schema/jboss-ruleset"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://windup.jboss.org/schema/jboss-ruleset http://windup.jboss.org/schema/jboss-ruleset/windup-jboss-ruleset.xsd"&gt;
    &lt;metadata&gt;
        ...
        &lt;overrideRules&gt;true&lt;/overrideRules&gt;
    &lt;/metadata&gt;
    &lt;rules&gt;
        &lt;rule id="weblogic-02000" xmlns="http://windup.jboss.org/schema/jboss-ruleset"&gt;
        <b class="conum">(1)</b>
        &lt;/rule&gt;
    &lt;/rules&gt;
&lt;/ruleset&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>The <code>&lt;rule&gt;</code> element is empty so that the <code>weblogic-02000</code> rule in the <code>weblogic</code> ruleset is disabled.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="rule-categories_rules-development-guide">5. Using custom rule categories</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can create custom rule categories and assign MTA rules to them.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Although MTA processes rules with the legacy <code>severity</code> field, you must update your custom rules to use the new <code>category-id</code> field.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="add_custom_category_rules-development-guide">5.1. Adding a custom category</h3>
<div class="paragraph">
<p>You can add a custom category to the rule category file.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Edit the rule category file, which is located at <code>&lt;MTA_HOME&gt;/rules/migration-core/core.windup.categories.xml</code>.</p>
</li>
<li>
<p>Add a new <code>&lt;category&gt;</code> element and fill in the following parameters:</p>
<div class="ulist">
<ul>
<li>
<p><code>id</code>: The ID that MTA rules use to reference the category.</p>
</li>
<li>
<p><code>priority</code>: The sorting priority relative to other categories. The category with the lowest value is displayed first.</p>
</li>
<li>
<p><code>name</code>: The display name of the category.</p>
</li>
<li>
<p><code>description</code>: The description of the category.</p>
<div class="listingblock">
<div class="title">Custom rule category example</div>
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0"?&gt;
&lt;categories&gt;
    ...
    &lt;category id="custom-category" priority="20000"&gt;
        &lt;name&gt;Custom Category&lt;/name&gt;
        &lt;description&gt;This is a custom category.&lt;/description&gt;
    &lt;/category&gt;
&lt;/categories&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This category is ready to be referenced by MTA rules.</p>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="assign_custom_category_rules-development-guide">5.2. Assigning a rule to a custom category</h3>
<div class="paragraph">
<p>You can assign a rule to your new custom category.</p>
</div>
<div class="paragraph">
<div class="title">Procedure</div>
<p>In your MTA rule, update the <code>category-id</code> field as in the following example.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;rule id="rule-id"&gt;
    &lt;when&gt;
        ...
    &lt;/when&gt;
    &lt;perform&gt;
        &lt;hint title="Rule Title" effort="1" category-id="custom-category"&gt;
            &lt;message&gt;Hint message.&lt;/message&gt;
        &lt;/hint&gt;
    &lt;/perform&gt;
 &lt;/rule&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>If this rule condition is met, incidents identified by this rule use your custom category. The custom category is displayed on the dashboard and in the Issues report.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="topics/images/custom_rule_category.png" alt="Custom rule category on the Dashboard">
</div>
<div class="title">Figure 1. Custom category on the dashboard</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_reference_material">Appendix A: Reference material</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="about-story-points_rules-development-guide">A.1. About rule story points</h3>
<div class="sect3">
<h4 id="_what_are_story_points">A.1.1. What are story points?</h4>
<div class="paragraph">
<p><em>Story points</em> are an abstract metric commonly used in Agile software development to estimate the <em>level of effort</em> needed to implement a feature or change.</p>
</div>
<div class="paragraph">
<p>The Migration Toolkit for Applications uses story points to express the level of effort needed to migrate particular application constructs, and the application as a whole. It does not necessarily translate to man-hours, but the value should be consistent across tasks.</p>
</div>
</div>
<div class="sect3">
<h4 id="_how_story_points_are_estimated_in_rules">A.1.2. How story points are estimated in rules</h4>
<div class="paragraph">
<p>Estimating the level of effort for the story points for a rule can be tricky. The following are the general guidelines MTA uses when estimating the level of effort required for a rule.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 15%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Level of Effort</th>
<th class="tableblock halign-left valign-top">Story Points</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Information</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An informational warning with very low or no priority for migration.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trivial</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The migration is a trivial change or a simple library swap with no or minimal API changes.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Complex</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The changes required for the migration task are complex, but have a documented solution.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Redesign</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The migration task requires a redesign or a complete library change, with significant API changes.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rearchitecture</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The migration requires a complete rearchitecture of the component or subsystem.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unknown</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The migration solution is not known and may need a complete rewrite.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_task_category">A.1.3. Task category</h4>
<div class="paragraph">
<p>In addition to the level of effort, you can categorize migration tasks to indicate the severity of the task. The following categories are used to group issues to help prioritize the migration effort.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Mandatory</dt>
<dd>
<p>The task must be completed for a successful migration. If the changes are not made, the resulting application will not build or run successfully. Examples include replacement of proprietary APIs that are not supported in the target platform.</p>
</dd>
<dt class="hdlist1">Optional</dt>
<dd>
<p>If the migration task is not completed, the application should work, but the results may not be optimal. If the change is not made at the time of migration, it is recommended to put it on the schedule soon after your migration is completed.</p>
</dd>
<dt class="hdlist1">Potential</dt>
<dd>
<p>The task should be examined during the migration process, but there is not enough detailed information to determine if the task is mandatory for the migration to succeed. An example of this would be migrating a third-party proprietary type where there is no directly compatible type.</p>
</dd>
<dt class="hdlist1">Information</dt>
<dd>
<p>The task is included to inform you of the existence of certain files. These may need to be examined or modified as part of the modernization effort, but changes are typically not required.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>For more information on categorizing tasks, see <a href="#rule-categories_rules-development-guide">Using custom rule categories</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_additional_resources">A.2. Additional resources</h3>
<div class="sect3">
<h4 id="review-existing-rules_rules-development-guide">A.2.1. Reviewing existing MTA XML rules</h4>
<div class="paragraph">
<p>MTA XML-based rules are located on GitHub at the following location: <a href="https://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed">https://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed</a>.</p>
</div>
<div class="paragraph">
<p>You can fork and clone the MTA XML rules on your local machine.</p>
</div>
<div class="paragraph">
<p>Rules are grouped by target platform and function. When you create a new rule, it is helpful to find a rule that is similar to the one you need and use it as a starting template.</p>
</div>
<div class="paragraph">
<p>New rules are continually added, so it is a good idea to check back frequently to review the updates.</p>
</div>
<div class="sect4">
<h5 id="fork-ruleset-repo_rules-development-guide">Forking and cloning the Migration Toolkit for Applications XML rules</h5>
<div class="paragraph">
<p>The Migration Toolkit for Applications <code>windup-rulesets</code> repository provides working examples of how to create custom Java-based rule add-ons and XML rules. You can use them as a starting point for creating your own custom rules.</p>
</div>
<div class="paragraph">
<p>You must have the <a href="http://git-scm.com/"><code>git</code></a> client installed on your machine.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Click the <code>Fork</code> link on the <a href="https://github.com/windup/windup-rulesets/">Migration Toolkit for Applications Rulesets</a> GitHub page to create the project in your own Git. The forked GitHub repository URL created by the fork should look like this: <code>https://github.com/&lt;YOUR_USER_NAME&gt;/windup-rulesets.git</code>.</p>
</li>
<li>
<p>Clone your Migration Toolkit for Applications rulesets repository to your local file system:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ git clone https://github.com/&lt;YOUR_USER_NAME&gt;/windup-rulesets.git</pre>
</div>
</div>
</li>
<li>
<p>This creates and populates a <code>windup-rulesets</code> directory on your local file system. Navigate to the newly created directory, for example</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ cd windup-rulesets/</pre>
</div>
</div>
</li>
<li>
<p>If you want to be able to retrieve the latest code updates, add the remote <code>upstream</code> repository so you can fetch any changes to the original forked repository.</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ git remote add upstream https://github.com/windup/windup-rulesets.git</pre>
</div>
</div>
</li>
<li>
<p>Get the latest files from the <code>upstream</code> repository.</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ git fetch upstream</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect3">
<h4 id="rules-important-links_rules-development-guide">A.2.2. Additional resources</h4>
<div class="ulist">
<ul>
<li>
<p>MTA Jira issue tracker: <a href="https://issues.redhat.com/projects/MTA/issues" class="bare">https://issues.redhat.com/projects/MTA/issues</a></p>
</li>
<li>
<p>MTA mailing list: <a href="mailto:windup-eng@redhat.com">windup-eng@redhat.com</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><br></p>
</div>
<div class="paragraph">
<p><em class="right">Revised on 2024-07-26 13:05:03 +0530</em></p>
</div>
<div class="exampleblock">
<div class="content">

</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2024-07-02 21:45:39 +0530
</div>
</div>
</body>
</html>